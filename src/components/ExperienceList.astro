---
import { type IExperienceListProps, type IExperienceProps } from "@types";
import LinkIcon from "./LinkIcon.astro";

const { experiences } = Astro.props as IExperienceListProps;
---

<div class="flex flex-col gap-y-8">
    {
        experiences.map((experience: IExperienceProps) => {
            const experienceTitle =
                experience.siteUrl && experience.siteUrl.trim() !== "" ? (
                    <a
                        href={experience.siteUrl}
                        class="flex flex-row flex-wrap items-center hover:text-neon-teal cursor-pointer transition-all duration-150 link-title"
                    >
                        <h3>
                            {experience.title}{" "}
                            <LinkIcon width="14px" height="14px" />
                        </h3>
                    </a>
                ) : (
                    <div class="flex flex-row">
                        <h3>{experience.title}</h3>
                    </div>
                );

            return (
                <div>
                    <div class="flex flex-row justify-between items-center flex-wrap">
                        {experienceTitle}
                        <p class="whitespace-pre text-slate-400 pt-0.5 sm:w-auto w-100">
                            {experience.startDate} - {experience.endDate}
                        </p>
                    </div>
                    <p class="text-neon-teal pt-0.5">{experience.location}</p>
                    <p class="pt-2 text-slate-400">{experience.description}</p>
                </div>
            );
        })
    }
</div>
